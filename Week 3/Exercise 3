import sys
assert sys.version_info >= (3, 7)

import numpy as np
import cv2 as cv

cap = cv.VideoCapture("videos/img_pexels.mp4")

if not cap.isOpened():
    sys.exit("No such file")

fps = 15
fourcc = cv.VideoWriter_fourcc("M","J","P","G")#video codec
out = cv.VideoWriter("videos/smaller_img_pexels.avi", fourcc,fps, (w,h))


while True:
    ret, frame = cap.read()#ret is the status, frame is the image lecturer said
    frame_resize = cv.resize(frame, None, fx=0.3, fy=0.3)
    w, h = int(frame_resize.shape[1]), int(frame_resize.shape[0])#set width and height to the resized width and height
    
    if not ret:
        print("No frame detected")
        break
        
    cv.imshow("resized frame", frame_resize)
    out.write(frame_resize)#write the resized frame to the output video
    
    k = cv.waitKey(1) &0xFF
    if k == 27:
        break
cap.release()
cv.destroyAllWindows()
